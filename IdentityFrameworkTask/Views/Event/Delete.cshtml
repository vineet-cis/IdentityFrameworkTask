@model IdentityFrameworkTask.DataModels.Event

@{
    ViewData["Title"] = "Delete";

}

<style>

    .bold-label {
        font-weight: bold;
    }

</style>
<h1 class="text-center text-danger">Delete Event</h1>
<html>
    
    <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">

    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>

    <!-- Popper.js (optional, but recommended for Bootstrap 4) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>

    <!-- Bootstrap JS -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
    </head>

<script>

    function confirmDel()
    {
        debugger;
        $('#confirmationModal').modal('show');

        //$(document).ready(function () {
        //    $('#confirmDeleteButton').click(function () {
                
        //        $.ajax({

        //            type: 'POST',
        //            url: '@Url.Action("Delete", "Event")'
        //        })

        //        $('#confirmationModal').modal('hide');
        //    });
        //});
    }

    $(document).ready(function () {
        $('#myDelBtn').click(function (event) {
            debugger;
            
            event.preventDefault();

            // Call the confirmDel function
            confirmDel();
        });
    });

    $(document).ready(function () {
        $('#confirmDeleteButton').click(function () {
            $.ajax
            ({

                type: 'POST',
                url: '@Url.Action("Delete", "Event")',
                success: function () {
                window.location.href = '@Url.Action("Index", "Event")';
                }

            });

            $('#confirmationModal').modal('hide');
        });
    });
</script>
    <body>
    <div>
        <form id="myDel">

            @Html.LabelFor(model => model.EventName, new { @class = "bold-label" }): &nbsp;

            @Html.DisplayFor(model => model.EventName, new { htmlAttributes = new { @class = "form-control" } })

            <br />

            @Html.LabelFor(model => model.EventType, new { @class = "bold-label" }): &nbsp;

            @Html.DisplayFor(model => model.EventType, new { htmlAttributes = new { @class = "form-control" } })

            <br />

            @Html.LabelFor(model => model.EventStartDate, new { @class = "bold-label" }): &nbsp;

            @Html.DisplayFor(model => model.EventStartDate, new { htmlAttributes = new { @class = "form-control" } })

            <br />

            @Html.LabelFor(model => model.EventEndDate, new { @class = "bold-label" }): &nbsp;

            @Html.DisplayFor(model => model.EventEndDate, new { htmlAttributes = new { @class = "form-control" } })

            <br />

            @Html.LabelFor(model => model.RegistrationOpenDate, new { @class = "bold-label" }): &nbsp;

            @Html.DisplayFor(model => model.RegistrationOpenDate, new { htmlAttributes = new { @class = "form-control" } })

            <br />

            @Html.LabelFor(model => model.RegistrationCloseDate, new { @class = "bold-label" }): &nbsp;

            @Html.DisplayFor(model => model.RegistrationCloseDate, new { htmlAttributes = new { @class = "form-control" } })

            <br />

            @Html.LabelFor(model => model.Price, new { @class = "bold-label" }): &nbsp;
            @Html.DisplayFor(model => model.Price, new { htmlAttributes = new { @class = "form-control" } })

            <br />

            @Html.LabelFor(model => model.Limit, new { @class = "bold-label" }): &nbsp;
            @Html.DisplayFor(model => model.Limit, new { htmlAttributes = new { @class = "form-control" } })

            <br />
            <br />

            <button class="btn btn-danger" type="submit" id="myDelBtn" onclick="confirmDel();" data-toggle="modal" data-target="#confirmationModal">Delete</button> &nbsp; |
            @Html.ActionLink("Back to List", "Index")

        </form>
    </div>

    <div class="modal fade" id="confirmationModal" tabindex="0" role="dialog" aria-labelledby="confirmationModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="confirmationModalLabel">Confirm Deletion</h5>
                </div>
                <div class="modal-body">
                    Are you sure you want to delete this item?
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-danger" id="confirmDeleteButton">Delete</button>
                </div>
            </div>
        </div>
    </div>
    </body>
</html>

@*
<script>
    function confirmDel()
    {
        debugger;
        $('#confirmationModal').modal('show');
    }
    //function confirmDelete() 
    //{
    //    if (confirm('Are you sure you want to delete this item?')) 
    //    {
    //        return true;
    //    } else {
    //        return false;
    //    }
    //}
    //$(document).ready(function () {
    //    $('#myDel').click(function () {
    //        $('#confirmationModal').modal('show');
    //    });
    //});
    
</script>
*@


